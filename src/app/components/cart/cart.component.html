<div class="cart-container" *ngIf="cartItems$ | async as cartItems">
  <h2>Корзина</h2>
  <div *ngIf="cartItems.length === 0">Корзина пуста</div>

  <mat-list *ngIf="cartItems.length > 0">
    <mat-list-item *ngFor="let item of cartItems">
      <img matListAvatar [src]="item.product.imageUrl" alt="{{ item.product.name }}" />
      <h4 matLine>{{ item.product.name }}</h4>
      <p matLine>{{ item.product.price | currency:'USD' }} x {{ item.quantity }}</p>
      <mat-form-field>
        <input
          matInput
          type="number"
          min="1"
          [value]="item.quantity"
          (change)="onQuantityChange(item.product.id, $event)"
        />
      </mat-form-field>
      <button mat-icon-button color="warn" (click)="onRemove(item.product.id)">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-list-item>
  </mat-list>

  <h3>Итого: {{ getTotalPrice(cartItems) | currency:'USD' }}</h3>
</div>
